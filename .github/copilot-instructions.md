# Copilot Instructions for Bookmarker

## プロジェクト概要

Next.js + Node.js/TypeScript による**マルチユーザー対応ブックマーク管理アプリ**。URLとファイルパスの両方をブックマークとして管理し、タグベースの検索・フィルタリング機能を提供します。

## 既存エージェント設定

プロジェクトには以下のカスタムエージェントが設定されています：

- **docdd.agent.md**: ドキュメント作成エージェント（日本語、構造化ドキュメント）
- **nextjs.agent.md**: Next.js 専門エージェント（計画→実装→レビューのワークフロー）
- **db-migrate.agent.md**: データベースマイグレーションエージェント（バックアップ・検証付き安全なマイグレーション）

これらのエージェントを活用する場合は、計画段階でタスクを細分化し、ToDoリストを作成することを推奨します。

### db-migrate エージェントの使用方法

データベースのマイグレーション処理を行う際には、常に `@db-migrate` エージェントを利用してください。

1. バックアップの自動作成
2. マイグレーションの実行
3. データ整合性の検証
4. 問題発生時の復旧サポート

## ドキュメント駆動開発

仕様変更の際には、必ず最初に `docs` ディレクトリ内のドキュメントを更新してください。
最初にドキュメントを作成、更新し、その後コード実装を行うDocDDスタイルでの開発を推奨します。

- `docs/adr` ディレクトリにアーキテクチャ決定記録（ADR）を保存
- `docs/spec` ディレクトリに仕様書を保存
- `docs/api` ディレクトリにAPIドキュメントを保存
- `README.md` にプロジェクト概要とセットアップ手順を記載
