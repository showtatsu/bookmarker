# ログインページ仕様

## 概要

ユーザー認証を行うページ。ユーザー名とパスワードでログインする。

## URL

```
/login
```

## 認証

不要（未ログインユーザー向け）

---

## ページ構成

### レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│                        📚 Bookmarker                        │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│                     ┌───────────────────┐                   │
│                     │     ログイン      │                   │
│                     ├───────────────────┤                   │
│                     │                   │                   │
│                     │  ユーザー名       │                   │
│                     │  ┌─────────────┐  │                   │
│                     │  │             │  │                   │
│                     │  └─────────────┘  │                   │
│                     │                   │                   │
│                     │  パスワード       │                   │
│                     │  ┌─────────────┐  │                   │
│                     │  │             │  │                   │
│                     │  └─────────────┘  │                   │
│                     │                   │                   │
│                     │  [ ログイン ]     │                   │
│                     │                   │                   │
│                     │  アカウントをお持ち│                   │
│                     │  でない方は       │                   │
│                     │  新規登録へ       │                   │
│                     └───────────────────┘                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## フォーム仕様

### 入力フィールド

| フィールド | 型 | 必須 | バリデーション |
|-----------|-----|------|---------------|
| username | text | ✓ | 1文字以上 |
| password | password | ✓ | 1文字以上 |

### バリデーションメッセージ

| 条件 | メッセージ |
|------|-----------|
| ユーザー名未入力 | ユーザー名を入力してください |
| パスワード未入力 | パスワードを入力してください |
| 認証失敗 | ユーザー名またはパスワードが正しくありません |

---

## API連携

### リクエスト

```
POST /api/auth/login
Content-Type: application/json

{
  "username": "testuser",
  "password": "Password123"
}
```

### 成功レスポンス

```json
{
  "data": {
    "user": {
      "id": 1,
      "username": "testuser",
      "email": "test@example.com"
    }
  }
}
```

### エラーレスポンス

```json
{
  "error": {
    "code": "AUTHENTICATION_ERROR",
    "message": "ユーザー名またはパスワードが正しくありません"
  }
}
```

---

## 状態管理

### ローディング状態

- ログインボタンをローディング表示に変更
- フォーム入力を無効化

### エラー状態

- エラーメッセージをフォーム上部に赤色で表示
- 入力フィールドの内容は保持

### 成功状態

- `/bookmarks` ページへリダイレクト

---

## UIコンポーネント

```tsx
<Card>
  <CardHeader>
    <CardTitle>ログイン</CardTitle>
  </CardHeader>
  <CardContent>
    <form onSubmit={handleSubmit}>
      <Input
        label="ユーザー名"
        name="username"
        required
      />
      <Input
        label="パスワード"
        name="password"
        type="password"
        required
      />
      <Button type="submit" loading={isLoading}>
        ログイン
      </Button>
    </form>
    <p>
      アカウントをお持ちでない方は
      <Link href="/signup">新規登録</Link>へ
    </p>
  </CardContent>
</Card>
```

---

## セキュリティ

- パスワードは平文で保存しない
- CSRF対策（SameSite Cookie）
- レート制限（連続失敗時）
