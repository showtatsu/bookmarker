# タグページ仕様

## 概要

タグの一覧表示、追加、編集、削除を行うページ。

## URL

```
/tags
```

## 認証

**必要**（未ログインの場合は `/login` へリダイレクト）

---

## ページ構成

### レイアウト

```
┌─────────────────────────────────────────────────────────────┐
│  📚 Bookmarker    [ブックマーク] [タグ] [👤] [⚙️] [ログアウト] │
├─────────────────────────────────────────────────────────────┤
│ 🔍 タグを検索...        [名前 A→Z ▼] [+ 新規]        │
├─────────────────────────────────────────────────────────────┤
│ タグ名                               │ 件数 │ 操作  │
├──────────────────────────────────────┼──────┼───────┤
│ JavaScript                          │   12 │ ✏️ 🗑️ │
├──────────────────────────────────────┼──────┼───────┤
│ React                               │    8 │ ✏️ 🗑️ │
├──────────────────────────────────────┼──────┼───────┤
│ 設計                                │    5 │ ✏️ 🗑️ │
├──────────────────────────────────────┼──────┼───────┤
│ TypeScript                          │    3 │ ✏️ 🗑️ │
└──────────────────────────────────────┴──────┴───────┘
└─────────────────────────────────────────────────────────────┘
```

### ツールバー（1行）

| 要素         | 説明                                               |
| ------------ | -------------------------------------------------- |
| 検索ボックス | タグ名を前方一致検索。ページ表示時に自動フォーカス |
| ソート選択   | 名前 A→Z / Z→A / 使用数↓↑ / 新しい順 / 古い順      |
| 新規ボタン   | 新規タグ作成モーダルを開く                         |

### テーブルカラム

| カラム | 幅   | 説明                               |
| ------ | ---- | ---------------------------------- |
| タグ名 | auto | タグの名前                         |
| 件数   | 64px | このタグが付いたブックマーク数     |
| 操作   | 64px | EditIcon・TrashIcon アイコンボタン |

---

## 機能一覧

### 1. タグ一覧表示

| 項目   | 説明                                                   |
| ------ | ------------------------------------------------------ |
| タグ名 | タグの名前。クリックでそのタグのブックマーク一覧へ遷移 |
| 使用数 | このタグが付けられたブックマーク数                     |
| 操作   | EditIcon・TrashIcon アイコンボタン                     |

### 2. 検索

- タグ名を前方一致検索
- リアルタイム検索（デバウンス300ms）

### 3. ソート

| ソート          | 説明                   |
| --------------- | ---------------------- |
| name asc        | 名前昇順（デフォルト） |
| name desc       | 名前降順               |
| count desc      | 使用数多い順           |
| count asc       | 使用数少ない順         |
| created_at desc | 新しい順               |

---

## タグ追加/編集モーダル

```
┌─────────────────────────────────────────┐
│  タグを追加                          [×] │
├─────────────────────────────────────────┤
│                                         │
│  タグ名 *                               │
│  ┌─────────────────────────────────┐   │
│  │                                 │   │
│  └─────────────────────────────────┘   │
│                                         │
│        [ キャンセル ]  [ 追加 ]         │
└─────────────────────────────────────────┘
```

### 入力フィールド

| フィールド | 型   | 必須 | バリデーション     |
| ---------- | ---- | ---- | ------------------ |
| name       | text | ✓    | 1-50文字、重複不可 |

### バリデーションメッセージ

| 条件       | メッセージ                           |
| ---------- | ------------------------------------ |
| 未入力     | タグ名を入力してください             |
| 重複       | このタグ名は既に存在します           |
| 50文字超過 | タグ名は50文字以下で入力してください |

---

## 削除確認モーダル

```
┌─────────────────────────────────────────┐
│  タグを削除                          [×] │
├─────────────────────────────────────────┤
│                                         │
│  「JavaScript」を削除しますか？         │
│                                         │
│  このタグは12件のブックマークに         │
│  使用されています。                     │
│  削除してもブックマーク自体は           │
│  削除されません。                       │
│                                         │
│        [ キャンセル ]  [ 削除 ]         │
└─────────────────────────────────────────┘
```

---

## API連携

### 一覧取得

```
GET /api/tags
```

### レスポンス

```json
{
  "data": [
    { "id": 1, "name": "JavaScript", "bookmarkCount": 12 },
    { "id": 2, "name": "React", "bookmarkCount": 8 },
    { "id": 3, "name": "設計", "bookmarkCount": 5 }
  ]
}
```

### 追加

```
POST /api/tags
{
  "name": "TypeScript"
}
```

### 更新

```
PUT /api/tags/:id
{
  "name": "更新後のタグ名"
}
```

### 削除

```
DELETE /api/tags/:id
```

---

## 状態管理

### 空の状態

```
┌─────────────────────────────────────────┐
│                                         │
│            🏷️ タグがありません           │
│                                         │
│      ブックマークを整理するために       │
│       タグを作成しましょう              │
│                                         │
│           [ + 新規作成 ]                │
│                                         │
└─────────────────────────────────────────┘
```

---

## タグクリック時の動作

タグをクリックすると、そのタグでフィルターされたブックマーク一覧へ遷移：

```
/bookmarks?tags=JavaScript
```
